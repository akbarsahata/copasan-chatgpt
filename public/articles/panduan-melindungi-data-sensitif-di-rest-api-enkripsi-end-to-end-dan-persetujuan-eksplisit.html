<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Di era digital saat ini, perlindungan data pribadi adalah hal yang sangat penting. Banyak regulasi di seluruh dunia, termasuk UndangUndang Perlindunga...">
  <meta property="og:title" content="Panduan Melindungi Data Sensitif di REST API: Enkripsi End-to-End dan Persetujuan Eksplisit">
  <meta property="og:description" content="Di era digital saat ini, perlindungan data pribadi adalah hal yang sangat penting. Banyak regulasi di seluruh dunia, termasuk UndangUndang Perlindunga...">
  <meta property="og:image" content="https://jdih.sukoharjokab.go.id/images/berita/37a602580020d850637d22612017add2.jpg">
  <meta property="og:url" content="https://blog.akbarsahata.id/articles/panduan-melindungi-data-sensitif-di-rest-api-enkripsi-end-to-end-dan-persetujuan-eksplisit.md">
  <meta property="og:type" content="article">
  <title>Panduan Melindungi Data Sensitif di REST API: Enkripsi End-to-End dan Persetujuan Eksplisit</title>
  <link href="https://fonts.googleapis.com/css2?family=Calibri:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
  <link href="/styles/article.css" rel="stylesheet">
</head>
<body>
  <a href="https://blog.akbarsahata.id" class="home-button">Back to Home</a>
  <h1>Panduan Melindungi Data Sensitif di REST API: Enkripsi End-to-End dan Persetujuan Eksplisit</h1>
<hr>
<p><img src="https://jdih.sukoharjokab.go.id/images/berita/37a602580020d850637d22612017add2.jpg" alt="pdp-image"></p>
<hr>
<p>Di era digital saat ini, perlindungan data pribadi adalah hal yang sangat penting. Banyak regulasi di seluruh dunia, termasuk Undang-Undang Perlindungan Data Pribadi (UU PDP) di Indonesia, mengatur ketat bagaimana data sensitif harus diproses dan dilindungi. Jika Anda mengelola REST API yang menangani data pribadi, memahami cara menjaga keamanan data tersebut sangat penting, terutama jika API Anda menangani data sensitif seperti informasi kesehatan, data biometrik, atau informasi finansial.</p>
<p>Dalam artikel ini, kita akan membahas dua hal utama:</p>
<ol>
<li>   Bagaimana memastikan bahwa permintaan data sensitif dilakukan dengan persetujuan eksplisit dari subjek data.</li>
<li>   Bagaimana menerapkan enkripsi end-to-end untuk melindungi data sensitif selama transmisi.</li>
</ol>
<h2>Apa Itu Data Sensitif dan Mengapa Harus Dilindungi?</h2>
<p>Dalam Undang-Undang Perlindungan Data Pribadi (UU PDP) di Indonesia, data sensitif (sering juga disebut sebagai data pribadi spesifik) diatur secara khusus karena sifatnya yang lebih rentan terhadap penyalahgunaan. Data ini memiliki potensi untuk menyebabkan kerugian besar bagi individu jika disalahgunakan, oleh karena itu membutuhkan perlindungan yang lebih ketat.</p>
<p>Berdasarkan UU No. 27 Tahun 2022 tentang Perlindungan Data Pribadi, data sensitif didefinisikan sebagai data pribadi spesifik yang mencakup:</p>
<ol>
<li>   <strong>Data dan informasi kesehatan</strong>: Segala informasi yang berkaitan dengan kondisi fisik dan mental individu, termasuk rekam medis, riwayat pengobatan, serta informasi terkait kesehatan lainnya.</li>
<li>   <strong>Data biometrik</strong>: Data yang dihasilkan dari proses teknologi yang berkaitan dengan karakteristik fisik atau biologis seseorang, seperti sidik jari, retina mata, pengenalan wajah, DNA, dan sejenisnya.</li>
<li>   <strong>Data genetika</strong>: Data yang mengandung informasi mengenai karakteristik genetik seseorang, biasanya berkaitan dengan DNA atau informasi terkait keturunan.</li>
<li>   <strong>Pandangan politik</strong>: Informasi mengenai pandangan atau keyakinan politik individu, termasuk afiliasi dengan partai politik atau pilihan dalam pemilihan.</li>
<li>   <strong>Data keuangan pribadi</strong>: Informasi terkait status atau aktivitas keuangan individu, termasuk nomor rekening, transaksi keuangan, dan informasi lainnya yang dapat memengaruhi privasi keuangan seseorang.</li>
<li>   <strong>Orientasi seksual</strong>: Data terkait dengan preferensi seksual seseorang.</li>
<li>   <strong>Data terkait keyakinan keagamaan atau kepercayaan lainnya</strong>: Informasi mengenai afiliasi keagamaan, keyakinan spiritual, atau kepercayaan individu lainnya.</li>
<li>   <strong>Data lainnya</strong>: Data yang sesuai dengan ketentuan peraturan perundang-undangan yang dianggap sebagai data sensitif. Ini bisa termasuk data mengenai status perkawinan, ras, etnis, dan data lain yang memiliki dampak signifikan terhadap individu jika terungkap.</li>
</ol>
<p>Menurut UU PDP, pengumpulan dan pengolahan data sensitif harus dilakukan dengan persetujuan eksplisit dari pemilik data (subjek data), serta harus memenuhi prinsip-prinsip perlindungan data, yaitu transparansi, akuntabilitas, integritas, dan kerahasiaan.</p>
<p>Selain itu, pengendali data (organisasi atau pihak yang memproses data pribadi) harus memberikan keamanan yang lebih ketat dalam mengelola data sensitif untuk menghindari akses, pengungkapan, atau penggunaan tanpa izin yang dapat merugikan individu terkait.</p>
<h2>Mendapatkan Persetujuan Eksplisit dalam REST API</h2>
<p>Agar REST API Anda mematuhi regulasi UU PDP, Anda harus memastikan bahwa setiap permintaan yang terkait dengan data sensitif dilakukan hanya setelah memperoleh persetujuan eksplisit dari subjek data. Berikut adalah beberapa cara umum untuk mencapainya.</p>
<h3>1. Persetujuan Melalui JSON Web Token (JWT)</h3>
<p>JWT adalah metode yang populer untuk otorisasi dalam API. Anda bisa menyertakan persetujuan eksplisit di dalam payload JWT sebagai klaim tambahan. Berikut contoh payload JWT yang menyimpan persetujuan eksplisit untuk mengakses data sensitif:</p>
<pre><code class="language-json">{
  &quot;userId&quot;: &quot;12345&quot;,
  &quot;email&quot;: &quot;johndoe@example.com&quot;,
  &quot;permissions&quot;: {
    &quot;access_sensitive_data&quot;: true, 
    &quot;data_types&quot;: [&quot;health_data&quot;, &quot;financial_data&quot;],
    &quot;consent_timestamp&quot;: &quot;2024-10-06T12:34:56Z&quot;
  }
}
</code></pre>
<p>Dalam JWT ini, klaim access_sensitive_data menunjukkan bahwa pengguna telah memberikan persetujuan eksplisit untuk mengakses data sensitif tertentu. Kemudian, di sisi server, Anda bisa memeriksa klaim ini sebelum memberikan akses ke data sensitif.</p>
<p>Contoh Middleware di Node.js:</p>
<pre><code class="language-javascript">const jwt = require(&#39;jsonwebtoken&#39;);

const checkSensitiveDataPermission = (req, res, next) =&gt; {
  const authHeader = req.headers[&#39;authorization&#39;];
  const token = authHeader &amp;&amp; authHeader.split(&#39; &#39;)[1];

  if (!token) return res.sendStatus(401);

  jwt.verify(token, process.env.ACCESS_TOKEN_SECRET, (err, user) =&gt; {
    if (err) return res.sendStatus(403);
    
    const permissions = user.permissions;
    if (permissions.access_sensitive_data &amp;&amp; permissions.data_types.includes(&#39;health_data&#39;)) {
      next();
    } else {
      return res.status(403).json({ message: &quot;Access denied. Explicit consent not provided.&quot; });
    }
  });
};
</code></pre>
<p>Dengan pendekatan ini, Anda bisa memastikan bahwa pengguna yang mencoba mengakses data sensitif telah memberikan izin sebelumnya.</p>
<h3>2. Persetujuan Melalui Parameter Request</h3>
<p>Alternatif lainnya adalah dengan menyertakan parameter consent=true pada request. Sistem bisa memeriksa apakah parameter tersebut ada dan kemudian memproses data sensitif.</p>
<p>Contoh Request:</p>
<pre><code class="language-http">GET /user/health?consent=true HTTP/1.1
Authorization: Bearer &lt;JWT&gt;
</code></pre>
<p>Middleware kemudian akan memeriksa apakah persetujuan eksplisit telah diberikan:</p>
<pre><code class="language-javascript">const checkExplicitConsent = (req, res, next) =&gt; {
  const consent = req.query.consent;

  if (consent === &#39;true&#39;) {
    next(); 
  } else {
    return res.status(403).json({ message: &quot;Access denied. Explicit consent not provided.&quot; });
  }
};
</code></pre>
<h2>Enkripsi End-to-End untuk REST API</h2>
<p>Selain persetujuan eksplisit, melindungi data sensitif selama transmisi sangat penting. Data yang berjalan melalui jaringan bisa dicegat oleh pihak ketiga jika tidak dienkripsi. Oleh karena itu, enkripsi end-to-end (E2EE) adalah solusi penting untuk melindungi privasi data selama pengiriman.</p>
<h3>1. Gunakan HTTPS (TLS/SSL)</h3>
<p>Langkah pertama untuk melindungi data sensitif di REST API adalah dengan menggunakan HTTPS, yang mengenkripsi seluruh komunikasi antara klien dan server menggunakan protokol TLS/SSL. HTTPS melindungi data saat transit, sehingga tidak bisa dibaca oleh siapa pun yang mungkin menyadap koneksi.</p>
<p>Contoh Penggunaan HTTPS di Node.js:</p>
<pre><code class="language-javascript">const https = require(&#39;https&#39;);
const fs = require(&#39;fs&#39;);
const express = require(&#39;express&#39;);
const app = express();

const options = {
  key: fs.readFileSync(&#39;path/to/private-key.pem&#39;),
  cert: fs.readFileSync(&#39;path/to/certificate.pem&#39;)
};

https.createServer(options, app).listen(443, () =&gt; {
  console.log(&#39;Server running on port 443 with HTTPS&#39;);
});
</code></pre>
<h3>2. Enkripsi Data Sensitif Secara Khusus dalam Payload</h3>
<p>Selain HTTPS, Anda bisa mengenkripsi data sensitif secara khusus dalam payload, misalnya menggunakan AES (Advanced Encryption Standard). Ini memberikan lapisan keamanan tambahan jika Anda perlu menjaga data terenkripsi bahkan setelah disimpan atau di-cache.</p>
<p>Contoh Enkripsi AES pada Payload:</p>
<pre><code class="language-javascript">const crypto = require(&#39;crypto&#39;);

const encryptionKey = &quot;a_very_secret_key_32bytes&quot;;
const algorithm = &#39;aes-256-cbc&#39;;

function encrypt(text) {
  const iv = crypto.randomBytes(16);
  const cipher = crypto.createCipheriv(algorithm, Buffer.from(encryptionKey), iv);
  let encrypted = cipher.update(text);
  encrypted = Buffer.concat([encrypted, cipher.final()]);
  return iv.toString(&#39;hex&#39;) + &#39;:&#39; + encrypted.toString(&#39;hex&#39;);
}

app.get(&#39;/user/health&#39;, (req, res) =&gt; {
  const healthData = {
    blood_type: &quot;A&quot;,
    medical_history: &quot;Diabetes Type 2&quot;
  };
  
  const healthDataString = JSON.stringify(healthData);
  const encryptedData = encrypt(healthDataString);
  
  res.json({ encrypted_data: encryptedData });
});
</code></pre>
<h3>3. Menggunakan JSON Web Encryption (JWE)</h3>
<p>Jika Anda lebih suka standar yang sudah ada untuk mengenkripsi payload, Anda bisa menggunakan JSON Web Encryption (JWE). JWE menawarkan format standar untuk mengenkripsi data JSON yang bisa ditransmisikan di REST API.</p>
<p>Contoh Penggunaan JWE:</p>
<pre><code class="language-javascript">const jose = require(&#39;node-jose&#39;);

const publicKey = `-----BEGIN PUBLIC KEY-----
...
-----END PUBLIC KEY-----`;

const payload = {
  blood_type: &quot;A&quot;,
  medical_history: &quot;Diabetes Type 2&quot;
};

jose.JWK.asKey(publicKey, &#39;pem&#39;).then(function (key) {
  jose.JWE.createEncrypt({ format: &#39;compact&#39; }, key)
    .update(JSON.stringify(payload))
    .final()
    .then(function (encrypted) {
      res.json({ encrypted_data: encrypted });
    });
});
</code></pre>
<h2>Kesimpulan</h2>
<p>Mengelola data sensitif dalam REST API memerlukan pendekatan yang hati-hati. Anda harus memastikan bahwa persetujuan eksplisit diperoleh sebelum mengakses data sensitif, dan juga menerapkan enkripsi end-to-end untuk melindungi data selama transmisi. Mulai dari penggunaan HTTPS hingga enkripsi payload menggunakan AES atau JWE, langkah-langkah ini akan membantu memastikan bahwa REST API Anda mematuhi regulasi perlindungan data dan menjaga privasi pengguna.</p>
<p>Dengan mengimplementasikan solusi ini, Anda tidak hanya mematuhi peraturan hukum seperti UU PDP, tetapi juga membangun kepercayaan dengan pengguna dengan memastikan keamanan data mereka.</p>
<p>Semoga artikel ini membantu Anda memahami pentingnya persetujuan eksplisit dan enkripsi dalam melindungi data sensitif pada REST API. Jika Anda memiliki pertanyaan lebih lanjut tentang topik ini, jangan ragu untuk bertanya di kolom komentar!</p>

  <button class="back-to-top" onclick="scrollToTop()">Back to Top</button>
  <div class="share-buttons">
    <button class="share-button" onclick="shareToFacebook()">F</button>
    <button class="share-button" onclick="shareToTwitter()">X</button>
    <button class="share-button" onclick="shareToWhatsApp()">W</button>
    <button class="share-button" onclick="copyLink()">C</button>
  </div>
  <div id="disqus_thread"></div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
  <script>
    var disqus_config = function () {
      this.page.url = "https://blog.akbarsahata.id/articles/panduan-melindungi-data-sensitif-di-rest-api-enkripsi-end-to-end-dan-persetujuan-eksplisit.md";
      this.page.identifier = "panduan-melindungi-data-sensitif-di-rest-api-enkripsi-end-to-end-dan-persetujuan-eksplisit.md";
    };
    (function() {
      var d = document, s = d.createElement('script');
      s.src = 'https://copasan-chatgpt.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
    
    function shareToFacebook() {
      const url = encodeURIComponent("https://blog.akbarsahata.id/articles/panduan-melindungi-data-sensitif-di-rest-api-enkripsi-end-to-end-dan-persetujuan-eksplisit.md");
      window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}`, '_blank');
    }
    
    function shareToTwitter() {
      const url = encodeURIComponent("https://blog.akbarsahata.id/articles/panduan-melindungi-data-sensitif-di-rest-api-enkripsi-end-to-end-dan-persetujuan-eksplisit.md");
      const text = encodeURIComponent("Panduan Melindungi Data Sensitif di REST API: Enkripsi End-to-End dan Persetujuan Eksplisit");
      window.open(`https://twitter.com/intent/tweet?url=${url}&text=${text}`, '_blank');
    }
    
    function shareToWhatsApp() {
      const url = encodeURIComponent("https://blog.akbarsahata.id/articles/panduan-melindungi-data-sensitif-di-rest-api-enkripsi-end-to-end-dan-persetujuan-eksplisit.md");
      window.open(`https://wa.me/?text=${url}`, '_blank');
    }
    
    function copyLink() {
      navigator.clipboard.writeText("https://blog.akbarsahata.id/articles/panduan-melindungi-data-sensitif-di-rest-api-enkripsi-end-to-end-dan-persetujuan-eksplisit.md").then(() => {
        alert('Link copied to clipboard');
      });
    }
    
    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    
    window.addEventListener('scroll', () => {
      const backToTopButton = document.querySelector('.back-to-top');
      if (window.scrollY > 300) {
        backToTopButton.style.display = 'block';
      } else {
        backToTopButton.style.display = 'none';
      }
    });
    
    document.querySelectorAll('pre').forEach((pre) => {
      const button = document.createElement('button');
      button.className = 'copy-button';
      button.innerText = 'Copy';
      button.addEventListener('click', () => {
        const code = pre.querySelector('code').innerText;
        navigator.clipboard.writeText(code).then(() => {
          button.innerText = 'Copied!';
          setTimeout(() => {
            button.innerText = 'Copy';
          }, 2000);
        });
      });
      pre.appendChild(button);
    });
  </script>
</body>
</html>